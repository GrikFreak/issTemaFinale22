<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<style type="text/css">
body
{
    margin-left:  30px;
    margin-right: 30px;
};

P
{
    font-family: Tahoma;
    font-size: 10pt;
};

a, a:visited, a:active, a:link, a:hover {
    text-decoration: underline;
    color: #545454;
    background-color: transparent;
	font-size: 93%;
}

a:hover {
    background-color: #cccccc;
}


hr {
    clear: both;
    height: 1px;
    color: #242424;
    background-color: transparent;
}

h1, h2, h3 {
    color: #242424;
    clear: left;
    font: 100% Tahoma, Helvetica, Arial, sans-serif;
    margin-bottom: 0.5em;
    padding-top: 0.5em;
	border-radius: 10px;
	padding: 5px;
}

top {
	width: 100%;
}


#i {
    color: #ff1010;
}
tt{
	font-family: "Arial";
    font-size: 90%;
	color: #006600;
}
em{
	font-family: "Arial";
    font-size: 80%;
	font-weight: bold;
	border-style:solid;
	border-color: #abe876;
    color: #1632cc;
}
bc{
	font-family: "Arial";
	font-size: 90%;
	font-weight: bold;
    color: #990000;
	background-color: #fcf8c7;
}
ks{
	font-family: "Arial";
	font-weight: bold;
    color: #0000CD	;
	font-size: 90%;
}
kc{
	font-family: "Arial";
	font-weight: bold;
    color: #008000	;
	font-size: 90%;
}
kr{
	font-family: "Arial";
	font-weight: bold;
    color: #ff0000	;
	font-size: 90%;
}
pre{
	font-family: "Consolas";
	font-size: 85%;
	background-color: #f5f5f5;
	border: 1.5px solid silver;
	padding: 5px;
}
m{
	font-family: "Helvetica";
	line-height: 100%;
 	font-size: 75%;
}
div.body{

    font-size: 18px;
}
k{
    color: #990000;
	font-weight: bold;
	font-size: 90%;
}
h1 {
    font-size: 150%;
    background-color: #b2c0ff;
	padding: 10px;
}

h2 {
    background-color: #9ed8ff;
    font-size: 130%;
}

h3 {
	background-color: #e6ccff;
    font-size: 100%;
}
h4 {
    background-color: #ccffcc;
    font-size: 100%;
	width: 95%;
	border-radius: 5px;
	padding: 2px;
}
h5 {
    background-color: #d5ffb0;
    font-size: 100%;

}
div.req{
	background-color: #d9ffb3;
    font-size: 18px;
	width: 700px;
    border: 3px solid green;
    padding: 15px;
    margin: 10px;
}
div.remark{
	background-color: #E3F2FD;
    border: 1.5px solid #d5f2ed;
    padding: 15px;
    margin: 10px;
	border-radius: 25px;
}
table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}

#exampleclass tbody,
#exampleclass thead,
#exampleclass th {
  border: 0;
}

ol, ul, li {
  margin: 0;
  margin-left: 10px;
  padding: 0;
  padding-bottom: 5px;
}

table, th, td {
	border: 1px solid black;
}

img {
	border: 1.5px solid #d5f2ed

}

a, a:visited, a:active, a:link, a:hover {
    text-decoration: underline;
    color: #545454;
    background-color: transparent;
}

div.wrapdesc{
	width: 90%;
	margin: auto;
}

div.imagedesc{
	width: 85%;
	margin: auto;
}
</style>

<head>

<title>Final task ISS-2022: Waste service</title></head>

<body>
<div id="top">
<h1>Final task ISS-2022: Waste service<font size="5"></font> </h1>
</div>

<div class="body">


<h2>Introduction</h2>
<div id="Introduction">
  This document deals with the design, build and development of a software system, named <ks>WasteService</ks>,
  which implements a series of functions to separate collection of waste.
</div>
<h2>Requirements</h2>
<div id="Requirements" class="remark">
    <p>A company intends to build a <span class="blue">WasteService</span> for the <em>separate collection of waste</em>,  composed of a set of elements:</p>
    <ol class="arabic">
    <li><p>a service area (rectangular, flat) that includes:</p>
    <ul class="simple">
    <li><p>an <span class="blue">INDOOR</span> port, to enter waste material</p></li>
    <li><p>a <span class="blue">PlasticBox</span> container, devoted to store objects made of plastic, upto <strong>MAXPB</strong> kg of material.</p></li>
    <li><p>a <span class="blue">GlassBox</span> container, devoted to store objects made of glass, upto <strong>MAXGB</strong> kg of material.</p></li>
    </ul>
    <p>The service area is free from internal obstacles, as shown in the following picture:</p>
    <blockquote>
    <div><a class="reference internal image-reference" href="images/WasteServiceRoom.PNG"><img alt="images/WasteServiceRoom.PNG" class="align-center" src="images/WasteServiceRoom.PNG" style="width: 60%;" /></a>
    </div></blockquote>
    </li>
    <li><p>a DDR robot working as a <span class="blue">transport trolley</span>, that is intially situated in its <span class="blue">HOME</span> location.
    The transport trolley has  the form of a square of side length <strong>RD</strong>.</p>
    <p>The <cite>transport trolley</cite> is used to performa a <span class="blue">deposit action</span> that consists in the following phases:</p>
    <ol class="arabic simple">
    <li><p>pick up a waste-load from a <span class="blue">Waste truck</span> located on the <cite>INDOOR</cite></p></li>
    <li><p>go from the <cite>INDOOR</cite> to the proper waste container</p></li>
    <li><p>deposit the waste-load in the container</p></li>
    </ol>
    </li>
    <li><p>a <span class="blue">Service-manager</span> (an human being) which supervises the state of the service-area by using a
    <span class="blue">WasteServiceStatusGUI</span>.</p></li>
    <li><p>a <span class="blue">Sonar</span> and a <span class="blue">Led</span> connected to a RaspnerryPi. <a id="R3">(R3)</a>The <cite>Led</cite> is used as a <em>warning devices</em>,
    according to the following scheme:</p>
    <ul class="simple">
    <li><p><a id="R3A">(R3A)</a>the <cite>Led</cite> is <strong>off</strong> when the  <cite>transport trolley</cite> is at <cite>HOME</cite></p></li>
    <li><p>the <cite>Led</cite> <strong>blinks</strong> while the <cite>transport trolley</cite> is moving</p></li>
    <li><p><a id="R3B">(R3B)</a>the <cite>Led</cite> is <strong>on</strong> when <cite>transport trolley</cite> is stopped.</p></li>
    </ul>
    <p><a id="R4">(R4)</a>The <cite>Sonar</cite> is used as an ‘alarm device’: when it measures a distance less that a prefixed value <strong>DLIMT</strong>,
    the <cite>transport trolley</cite> must be stopped.
    It will be resumed when <cite>Sonar</cite> detects again a distance higher than  <strong>DLIMT</strong>.</p>
    </li>
    </ol>
    <h2>TFRequirements</h2>
    <p><a id="R1">(R1)</a>The main goal of the <span class="blue">WasteService</span> software is to allow a <span class="blue">Waste truck</span> to deposit its load of
    <strong>TruckLoad</strong> kg plastic or glass in the proper container.</p>
    <p>The global story can be described as follows:</p>
    <ol class="arabic simple">
    <li><p><a id="R1A">(R1A)</a>The <cite>Waste truck</cite> driver approaches the <cite>INDOOR</cite> and sends (using a smart device) a request to store the load,
    by specifyng the <cite>type of  the material</cite> (plastic or glass) and its <cite>TruckLoad</cite>.</p></li>
    <li><p><a id="R1B">(R1B)</a>The <cite>WasteService</cite> sends the answer <em>loadaccept</em> if the final content of proper container will not surpass the
    maximum value allowed (<em>MAXPB</em> or <em>MAXGB</em>). Otherwise, it sends the answer <em>loadrejecetd</em> and the  <cite>Waste truck</cite>
    leaves the <cite>INDOOR</cite> area.</p></li>
    <li><p><a id="R1C-core">(R1C-core)</a>When the load is accepted, the <cite>transport trolley</cite> reaches the <cite>INDOOR</cite>, picks up the material, goes to the
    proper container and settles the material. <a id="R1C-led">(R1C-led)</a>During this activity, the <cite>WasteService</cite> <strong>blinks</strong> the <cite>Led</cite></p></li>
    <li><p>When the deposit action is terminated, the <cite>transport trolley</cite>  excutes another deposit command (if any)
    or returns to its <cite>HOME</cite>.</p></li>
    </ol>
    <p><a id="R2">(R2)</a>The <cite>WasteService</cite> must create a <span class="blue">WasteServiceStatusGUI</span> that shows to the <em>Service-manager</em>:</p>
    <ul>
    <li><p><a id="R2A">(R2A)</a>the current state of the <cite>transport trolley</cite> and it position in the room</p></li>
    <li><p><a id="R2B">(R2B)</a>the current weigth of the material stored in the two waste-containers</p></li>
    <li><p><a id="R2C">(R2C)</a>the current state of the <cite>Led</cite></p>
</div>

<h2>Requirement analysis</h2>
<div class="remark">
  <div>
    Our <b>interaction with the customer</b> has clarified that nouns have the following meanings:
    <ul>
      <li><ks>transport trolley</ks>: component which uses the <ks>DDR Robot</ks> in order to complete his tasks;</li>
      <li><ks>software</ks>:set of computer programs and associated documentation and data ;</li>
      <li><ks>waste-load(or TruckLoad)</ks>: amount of chemical, physical, or biological matter contained within a waste discharge;</li>
      <li><ks>weight</ks>: relative mass or the quantity of matter contained by something;</li>
      <li><ks>material</ks>: matter from which a thing is or can be made; in our case could be only glass or plastic;</li>
      <li><ks>service-area</ks>:detailed area of the map where the Robot can move;</li>
      <li><ks>INDOOR</ks>: port in the service area where the waste material enters;</li>
      <li><ks>PlasticBox</ks>: container devoted to store objects made of plastic;</li>
      <li><ks>GlassBox</ks>: container devoted to store objects made of glass;</li>
      <li><ks>HOME</ks>:detailed area where it's initially placed the robot;</li>
      <li><ks>MAXPB</ks>: limits of weight (in kg ) that the PlasticBox can contain;</li>
      <li><ks>MAXGB</ks>: limits of weight (in kg ) that the GlassBox can contain;</li>
      <li><ks>obstacles</ks>: walls which marks the limit of the <ks>room</ks>;</li>
      <li><ks>DDR</ks>:physical or virtual (simulated in an virtual environment) object which can be represented and controlled using the infomation in basicrobot22;</li>
      <li><ks>transport trolley</ks>: component which uses the DDR Robot in order to complete his tasks;</li>
      <li><ks>RD</ks>:side lenght of the square that forms the transport trolley;</li>
      <li><ks>Waste truck</ks>:truck specially designed to collect  solid waste and transport it to a solid waste treatment facility;</li>
      <li><ks>deposit action (or command)</ks>: action that consists in these phases:
                            <ul>
                              <li>1. pick up a waste-load from a Waste truck located on the INDOOR</li>
                              <li>2. go from the INDOOR to the proper waste container</li>
                              <li>3. deposit the waste-load in the container</li>
                            </ul>
      </li>
      <li><ks>state</ks>: current status of the service area;</li>
      <li><ks>WasteServiceStatusGUI</ks>: user interface which allows the <kr>ServiceManager</kr> to supervise the state of the service-area;</li>
      <li><ks>Sonar</ks>: is a device that uses sound waves to detect objects;</li>    
      <li><ks>Led</ks>: is light source that emits light when current flows through it;</li>  
      <li><ks>RaspberryPi</ks>: single board computer;</li>  
      <li><ks>warning devices</ks>: a device that signals the occurrence of some undesirable event;</li>  
      <li><ks>LedState</ks>:
                            <ul>
                                <li>1. <kr>off</kr>: the led is off when the transport trolley is at HOME</li>
                                <li>2. <kr>blinks</kr>: the Led blinks while the transport trolley is moving</li>
                                <li>3. <kr>on</kr>: the Led is on when transport trolley is stopped</li>
                            </ul>
      </li>  
      <li><ks>DLIMIT</ks>: maximum distance, detected by the sonar, beyond which it triggers an action;</li> 
      <li><ks>alarm device</ks>: a device that gives an audible, visual or other kind of alarm signal to alert someone to a problem or condition that requires urgent attention;</li>    
      <li><ks>position</ks>: the position of the <ks>transport trolley</ks> could be : HOME , ContainerP , ContainerG , INDOOR and "Working " if it's not in one of the previuos area;</li>                
    </ul>
  </div>
  <div>
    Regarding action or verbs:
    <ul>
      <li><ks>build</ks>: construct (something) by putting parts or material together;</li>
      <li><ks>compose</ks>: the system is supplied with the necessary items for a particular purpose;</li>
      <li><ks>enter</ks>: the <ks>waste material</ks> is in the system;</li>
      <li><ks>pick-up (or store)</ks>:  action to load the material in the <ks>transport trolley</ks>;</li>
      <li><ks>go</ks>: action to describe the movement of the <ks>transport trolley</ks> ;</li>
      <li><ks>connect</ks>: the association between the <ks>Led</ks> and the <ks>Sonar</ks> with the RaspberryPi;</li>
      <li><ks>deposit</ks>: put the waste-load in the right container;</li>
      <li><ks>supervise</ks>: action performed by the <ks>Service-manager</ks> to check the status of the service-area using a <ks>WasteServiceStatusGUI</ks>;</li>
      <li><ks>connect</ks>: the <ks>OUTDOOR-area</ks> is free;</li>
      <li><ks>move</ks>: the action performed by the transport trolley to go from an area to an another one;</li>
      <li><ks>stop</ks>: the action of finish doing something that you were doing;</li>
      <li><ks>measure</ks>: the counting of a distance did by the sonar;</li>
      <li><ks>resume</ks>: the continue of the trasport trolley action due to a stop;</li>
      <li><ks>detect</ks>: the action did by <ks>Sonar</ks> to find object;</li>
      <li><ks>send</ks>: the action to communicate the answer;</li>
      <li><ks>settle</ks>: the placing in the specific container the current  <ks>Waste load</ks> ;</li>
      <li><ks>terminate</ks>: the end of a deposit ac;</li>
      <li><ks>execute</ks>: the run of a deposit action;</li>
    </ul>
  </div>
</div>
<br>
<h2>Requirements analysis</h2>
<div class="remark" id = "Requirements_analysis">
  <h3>Core requirements</h3>
  <h4><a href="#R1A">R1A</a></h4>
  <div class="remark" id="R1A">
    <kc>Formalization</kc>: the WasteTruck approaches the INDOOR and sends to WasteService a <kr>request</kr>  called <ks>waste_request(material, TruckLoad)</ks> to store the load specifyng the type of the material (plastic or glass) and its TruckLoad.
  </div>
  <h4><a href="#R1B">R1B</a></h4>
  <div class="remark" id="R1B">
    <kc>Formalization</kc>: The WasteService sends a <kr>reply</kr> to the WasteTruck <ks>loadaccept</ks> if the final content of proper container will not surpass the maximum value allowed (MAXPB or MAXGB). Otherwise, it sends the <kr>reply</kr> to the TruckDriver <ks>loadrejecetd</ks> and the Waste truck leaves the INDOOR area.

  </div>
  <h4><a href="#R1C-core">R1C-core</a></h4>
  <div class="remark" id="R1C-core">
    <kc>Formalization</kc>: When the TruckDriver receives the <ks>loadaccept</ks>, the transport trolley riceives a <kr>dispatch</kr> massage from the WasteService  called <ks>execute</ks> and executes a <kr>deposit action</kr>:
     <li>reaches the INDOOR : the transport_trolley moves to INDOOR port. </li>
     <li>picks up the material: the transport_trolley takes the specified material from INDOOR.</li>
     <li>goes to the proper container:  the transport_trolley moves to the correspondent container.</li>  
     <li>settles the material: the transport_trolley deposit the load picked in the container.</li> 
  </div>
  <h4><a href="#R1D">R1D</a></h4>
  <div class="remark" id="R1D">
    <kc>Formalization</kc>: when the transport_trolley ends the deposit, if there are deposit_action in queue it executes again a <kr>deposit</kr>. Otherwise it moves to HOME position.
  </div>
  <h3>GUI requirements</h3>
  <h4><a href="#R2A">R2A</a></h4>
  <div class="remark" id="R2A">
    <kc>Formalization</kc>: <ks>trolley_status</ks> shows the status of the transport trolley:
    <li><kr>working</kr>: the transport_trolley is executing a deposit action in the service area</li>
    <li><kr>idle</kr>: the transport_trolley waiting for a request at HOME position</li>
    <li><kr>stopped</kr>: the transport_trolley is stopped by the sonar alarm</li>
    and <ks>trolley_position</ks> shows the area of the trolley:
    <li><kr>HOME</kr>: the transport_trolley is in HOME position</li>
    <li><kr>INDOOR</kr>: the transport_trolley is adjacent INDOOR port</li>
    <li><kr>ContainerP</kr>: the transport_trolley is adjacent plastic Container</li>
    <li><kr>ContainerG</kr>: the transport_trolley is adjacent glass Container</li>
    <li><kr>Generic</kr>: the transport_trolley is in a generic position inside the service area,
      excluding previous positions</li>
  </div>
  <h4><a href="#R2B">R2B</a></h4>
  <div class="remark" id="R2B">
    <kc>Formalization</kc>: <ks>containers_weight</ks> shows the current weigth of the material stored in the two waste-containers.
  </div>
  <h4><a href="#R2C">R2C</a></h4>
  <div class="remark" id="R2C">
    <kc>Formalization</kc>: <ks>Led_status</ks> shows the current state of the Led (on, blinks, off).
  </div>
  
  <h3>Led requirements</h3>
  <h4><a href="#R3A">R3A</a></h4>
  <div class="remark" id="R3A">
    <kc>Formalization</kc>: <ks>led_off</ks>  when the <ks>trolley_position</ks> is in position "HOME".
  </div>
  <h4><a href="#R1C-led">R1C-led</a></h4>
  <div class="remark" id="R1C-led">
    <kc>Formalization</kc>: <ks>led_blinks</ks>  when the <ks>trolley_status</ks> is working.
  </div>
  <h4><a href="#R3B">R3B</a></h4>
  <div class="remark" id="R3B">
    <kc>Formalization</kc>: <ks>led_on</ks>  when the <ks>trolley_status</ks> is stopped.
  </div>


  <h3>Sonar requirements</h3>
  <h4><a href="#R4">R4</a></h4>
  <div class="remark" id="R4">
    <kc>Formalization</kc>: the Sonar emitts an <kr>event</kr> <ks>Sonar_alarm</ks> to the WasteService when it measures a distance less that a prefixed value DLIMT, the transport trolley must be stopped. It will be resumed when Sonar detects again a distance higher than DLIMT.
  </div>

  <h3>Non-functional requirements</h3>
  <div class="remark" id="proactive">
    <kc>Proactive</kc>: the TransportTrolley has to move and to do actions autonomously.
  </div>
  <div class="remark" id="reactive">
    <kc>Reactive</kc>:the TransportTrolley has to be stoppend due to sonar alarm.
  </div>
  
</div>
<h2>Problem analysis</h2>
<div class="remark">
  <div>
   In this first  phase of the analysis we will focus on the BusinessCoreAnalysis referred to the requirements : <a href="#R1A">R1A</a>,<a href="#R1B">R1B</a>,<a href="#R1C-core">R1C-core</a>.
   The components used in this phase are the <kr>WasteTruck</kr> ,  <kr>WasteService</kr> and the <kr>TransportTrolley</kr>.
   In order to give to the client a first executable model we don't consider the Sonar and the Led in this phase.
</div>
<h3>WasteTruck</h3>
<div class="remark" id="WasteTruck">
  The <kr>WasteTruck</kr> is in charge to make a <kr>request</kr> to the WasteService to deposit the waste (<ks>waste_request(material, TruckLoad)</ks>).
</div>
<table cellpadding="20%" style="border: 0px solid transparent;width:98%;" style="width:98%">
  <tr>
    <td style="border: 0px">
        <center><img src="images/wasteTruck.png" alt="waste_truck" width="60%"><center>
    </td>
    <td style="border: 0px">
      <center><table cellpadding="5%">
        <tbody><tr>
            <th>Message</th>
            <th>Semantic</th>
        </tr>
        <tr>
            <td rowspan="1">waste_request(material, TruckLoad)</td>
            <td rowspan="1">request</td>
        </tr>
    </tbody></table></center>
  </td>
</tr>
</table>
<h3>WasteService </h3>
<div class="remark" id="WasteService">
 The <kr>WasteService</kr> sends to the WasteTruck a <kr>reply</kr> (could be <ks>loadaccept</ks> or <ks>loadrejecetd</ks> ).
 If the reply is <ks>loadaccept</ks> it sends a dispatch called <ks>execute</ks> to the TransportTrolley.
 We decided to use a dispatch because , by requirements , we have to active a serious of action and the Waste Service doesn't need to know when the deposit action is ended.
 Furthermore the WasteService is in charge to keep track of the weight in the two containers and to update their weights when a deposit action is finished.
 At the end it will emitt an event <ks>containers_weight</ks> to the GUI.

</div>
<table cellpadding="20%" style="border: 0px solid transparent;width:98%;" style="width:98%">
  <tr>
    <td style="border: 0px">
        <center><img src="images/wasteService.png" alt="waste_service" width="70%"><center>
    </td>
    <td style="border: 0px">
      <center><table cellpadding="5%">
        <tbody><tr>
            <th>Message</th>
            <th>Semantic</th>
        </tr>
        <tr>
            <td rowspan="1">loadaccept</td>
            <td rowspan="1">reply</td>
        </tr>
        <tr>
            <td rowspan="1">loadrejected</td>
            <td rowspan="1">reply</td>
        </tr>
        <tr>
          <td rowspan="1">execute</td>
          <td rowspan="1">dispatch</td>
        </tr>
        <tr>
          <td rowspan="1">containers_weight</td>
          <td rowspan="1">event</td>
        </tr>
    </tbody></table></center>
  </td>
</tr>
</table>

<div>

  <h3> Transport trolley </h3>
<div class="remark" id="problem_analysis_transport_trolley">
 The Transport Trolley sends two events to the GUI.
 The first one <ks>trolley_status</ks> shows the status of the Trolley and could be :
 <li><ks>working</ks>: if the trolley is working;</li>
 <li><ks>idle</ks>: if the trolley is waiting the next dispatch <ks>execute</ks> from the Waste Service;</li>
 <li><ks>stopped</ks>: if the transport_trolley is paused due to the sonar alarm;</li>
 The second one <ks>trolley_position</ks> shows its position and could be : <kr>HOME , INDOOR ,ContainerP, ContainerG , generic</kr>.
</div>
<br>
<table cellpadding="20%" style="border: 0px solid transparent;width:98%;" style="width:98%">
  <tr>
    <td style="border: 0px">
        <center><img src="images/Transport_trolley.png" alt="Transport_trolley" width="70%"><center>
    </td>
    <td style="border: 0px">
      <center><table cellpadding="5%">
        <tbody><tr>
            <th>Message</th>
            <th>Semantic</th>
        </tr>
        <tr>
            <td rowspan="1">trolley_status</td>
            <td rowspan="1">event</td>
        </tr>

        <tr>
            <td rowspan="1">trolley_position</td>
            <td rowspan="1">event</td>
        </tr>
      </tr>
    </tbody></table></center>
  </td>
</tr>
</table>
<br>

<a href="../src/WasteService.qak" >Executable model</a>



<div class="remark" id="Analysis_with_led_and Sonar">
  Now that we have finished the first phase we can insert the Led and Sonar component.
  In the first phase we didn't analyse the requirement <a href="#R1D">R1D</a>.
  By analysing this requirement arise a problema , the Waste Service must know when the Transport TRollet finished the deposit action.
  It can be solved in various way , one could be that when the <ks>Transport trolley</ks> finishes the deposit action it sends a request to the Waste Service asking if the are other deposit command.
  An advantage for this solution it's that it uses the fact that anyway some informations have to converge from the Trolley to the Waste Service.
  The main problem with this type of solution is that in this way the Transport Trolley must know the existence of the Waste Service.
  Another way to solve this problem is that the transport Trolley emit an event with its status, in this way the Transport Trolley doesn't need to know the existence of the Waste Service.
  Furthermore, the event <ks>trolley_status</ks> is the same used to rule the state of the LED.
  </div>
  
<h3> Led </h3>
<div class="remark" id="Led">
The <ks>Led</ks> does not own or produce any valuable information by itself but it is a component controlled by the system.
The transport_trolley emits an event to the WasteService called <ks>trolley_status</ks>, based on the status the <ks>led</ks> must be changed by the <ks>WasteService</ks> through an event <ks>chenge_led</ks>.
The State of the Led depends on the status of the trolley.
These requirements make it necessary by the Waste Service to know the Status of the trolley.
Then the led send his status through an event <ks>led_status</ks> to the WasteServiceStatusGUI.

</div> <br>
<table cellpadding="20%" style="border: 0px solid transparent;width:98%;" style="width:98%">
  <tr>
    <td style="border: 0px">
        <center><img src="images/Led.png" alt="Led" width="60%"><center>
    </td>
    <td style="border: 0px">
      <center><table cellpadding="5%">
        <tbody><tr>
            <th>Message</th>
          
            <th>Semantic</th>
        </tr>
        <tr>
            <td rowspan="1">change_led</td>
            
            <td rowspan="1">event</td>
        </tr>
        <tr>
            <td rowspan="1">led_status</td>
           
            <td rowspan="1">event</td>
        </tr>

        <tr>
          <td rowspan="1">trolley_status</td>
         
          <td rowspan="1">event</td>
      </tr>

    </tbody></table></center>
  </td>
</tr>
</table>
<br>
<hr size="4" color="black">
<br>
<div id="problem_analysis_sonar">
  <h3> Sonar </h3>
  <div class="remark">
    The <ks>Sonar</ks> is used as an ‘alarm device’: when it measures a distance less than a prefixed value <ks>DLIMT</ks>, the Sonar sends a dispatch <kr>stop</kr> to stop the transport trolley. It will be resumed when Sonar detects again a distance higher than DLIMT and the Sonar sends a dispatch called <kr>resume</kr>.
    To solve the requirement <a href="#R4">R4</a> we thought of two possible solution: 
    In the first one the sonar emits a serious of event and another actor will analyse the distance and send the dispatch stop/resume to the trolley.
    In the second one the sonar doesn't emit all the distance but sends directly the  dispatch when it detects a measure greather than DLIM to stop the transport trolley.
    We decide to implement the second one.
    <br>
  </div>
  <table cellpadding="20%" style="border: 0px solid transparent;width:98%;" style="width:98%">
    <tr>
      <td style="border: 0px">
          <center><img src="images/Sonar.png" alt="Sonar" width="60%"><center>
      </td>
      <td style="border: 0px">
        <center>
    <table cellpadding="5%">
        <tr>
          <th>Message</th>
          <th>Semantic</th>
        </tr>
        <tr>
          <td>stop</td>
          <td>dispatch</td>
        </tr>
        <tr>
          <td>resume</td>
          <td>dispatch</td>
        </tr>
   </table>
 </center>
</td>
</tr>
</table>
</div>

<div id="problem_analysis_GUI_overview">

</div>
<div id="problem_analysis_waste_service_status_GUI">
  <h3>WasteServiceStatusGUI</h3>
  <div class="remark">
    The Service Manager's interface must be able to show these <a id="status">status</a>:
    <ul>
      <li> the current state of the <ks>trasport trolley</ks> and its position;</li>
      <li> the current weight of the material stored in the two containers (the plastic one and the glass one);</li>
      <li> the current state of the Led (on, blinks, off).</li>
    
    </ul>
  </div>
  
</div>

<div id="logical_architecture">
  <h3>Logical Architecture</h3>
  From the previous considerations on the components of the system it is possible to define a first logical architecture: <br><br>
  <center><img src="images/LogicalArchitecture.png" alt="logical_architecture" width="100%"></center>


</div>


<h2>Test plans</h2>
<div id="test_plans">
  <div class="remark">
  </div>
</div>

<h2>Work Plan</h2>
<div id="work_plan">
  <div class="remark">
    
  </div>
</div>


<h2>Project</h2>

</div>

<h2>Testing</h2>


<h2>Deployment</h2>


<h2>Maintenance</h2>

<br/><br/>
</div>

<div style="background-color:rgba(86, 56, 253, 0.9); width:60%;text-align:left;color:white">
<li>By Bignami Filippo, Greco Davide</li>
<li>email: filippo.bignami@studio.unibo.it,  davide.greco4@studio.unibo.it</li>
<li>GitHub repository: https://github.com/GrikFreak/issTemaFinale22</li>
</div>
</body>
</html>
